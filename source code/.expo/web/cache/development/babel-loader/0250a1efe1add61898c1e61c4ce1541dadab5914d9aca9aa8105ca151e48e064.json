{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { useNavigation } from '@react-navigation/native';\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Header from \"../components/Header\";\nimport { collection, onSnapshot, query, where } from 'firebase/firestore';\nimport { db } from \"../firebase\";\nimport { getAuth } from 'firebase/auth';\nimport ChatRow from \"./ChatRow\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar ChatList = function ChatList() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    matches = _useState2[0],\n    setMatches = _useState2[1];\n  var auth = getAuth();\n  var user = auth.currentUser;\n  useEffect(function () {\n    return onSnapshot(query(collection(db, 'matches'), where('usersMatched', 'array-contains', user.uid)), function (snapshot) {\n      return setMatches(snapshot.docs.map(function (doc) {\n        return _objectSpread({\n          id: doc.id\n        }, doc.data());\n      }));\n    });\n  }, [user]);\n  return matches.length > 0 ? _jsx(FlatList, {\n    style: {\n      flex: 1\n    },\n    data: matches,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return _jsx(ChatRow, {\n        matchDetails: item\n      });\n    }\n  }) : _jsx(View, {\n    children: _jsx(Text, {\n      children: \"No Matches at the moment!\"\n    })\n  });\n};\nexport default ChatList;","map":{"version":3,"names":["useNavigation","React","useEffect","useState","View","Text","TouchableOpacity","SafeAreaView","FlatList","Header","collection","onSnapshot","query","where","db","getAuth","ChatRow","jsx","_jsx","ChatList","_useState","_useState2","_slicedToArray","matches","setMatches","auth","user","currentUser","uid","snapshot","docs","map","doc","_objectSpread","id","data","length","style","flex","keyExtractor","item","renderItem","_ref","matchDetails","children"],"sources":["C:/Users/ayang/Documents/InfluGuruScratchStart/influguru/components/ChatList.js"],"sourcesContent":["import { useNavigation } from '@react-navigation/native'\r\nimport React, { useEffect, useState } from 'react'\r\nimport {View, Text, TouchableOpacity, SafeAreaView, FlatList} from 'react-native'\r\nimport Header from '../components/Header'\r\nimport { collection, onSnapshot, query, where } from 'firebase/firestore'\r\nimport { db } from '../firebase'\r\nimport { getAuth } from 'firebase/auth'\r\nimport ChatRow from './ChatRow'\r\n\r\nconst ChatList = () => {\r\n    const [matches, setMatches] = useState([]);\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n\r\n    useEffect(\r\n        () => \r\n            onSnapshot(\r\n                query(\r\n                    collection(db, 'matches'), \r\n                    where('usersMatched', 'array-contains', user.uid),\r\n                ),\r\n                (snapshot) => \r\n                    setMatches(snapshot.docs.map(doc => ({\r\n                        id: doc.id,\r\n                        ...doc.data(),\r\n                    }))\r\n                    )\r\n            ),\r\n        [user]\r\n    )\r\n    return(\r\n        matches.length > 0 ? (\r\n            <FlatList \r\n                style={{flex: 1}}\r\n                data={matches}\r\n                keyExtractor={item => item.id}\r\n                renderItem={({item}) => <ChatRow matchDetails={item}/>}\r\n            />\r\n        ) : (\r\n            <View>\r\n                <Text>No Matches at the moment!</Text>\r\n            </View>\r\n        )\r\n        \r\n    )\r\n}\r\n\r\nexport default ChatList\r\n\r\n"],"mappings":";;;;AAAA,SAASA,aAAa,QAAQ,0BAA0B;AACxD,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,YAAA;AAAA,OAAAC,QAAA;AAElD,OAAOC,MAAM;AACb,SAASC,UAAU,EAAEC,UAAU,EAAEC,KAAK,EAAEC,KAAK,QAAQ,oBAAoB;AACzE,SAASC,EAAE;AACX,SAASC,OAAO,QAAQ,eAAe;AACvC,OAAOC,OAAO;AAAiB,SAAAC,GAAA,IAAAC,IAAA;AAE/B,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAA,EAAS;EACnB,IAAAC,SAAA,GAA8BjB,QAAQ,CAAC,EAAE,CAAC;IAAAkB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAnCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAC1B,IAAMI,IAAI,GAAGV,OAAO,CAAC,CAAC;EACtB,IAAMW,IAAI,GAAGD,IAAI,CAACE,WAAW;EAE7BzB,SAAS,CACL;IAAA,OACIS,UAAU,CACNC,KAAK,CACDF,UAAU,CAACI,EAAE,EAAE,SAAS,CAAC,EACzBD,KAAK,CAAC,cAAc,EAAE,gBAAgB,EAAEa,IAAI,CAACE,GAAG,CACpD,CAAC,EACD,UAACC,QAAQ;MAAA,OACLL,UAAU,CAACK,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC,UAAAC,GAAG;QAAA,OAAAC,aAAA;UAC5BC,EAAE,EAAEF,GAAG,CAACE;QAAE,GACPF,GAAG,CAACG,IAAI,CAAC,CAAC;MAAA,CACf,CACF,CAAC;IAAA,CACT,CAAC;EAAA,GACL,CAACT,IAAI,CACT,CAAC;EACD,OACIH,OAAO,CAACa,MAAM,GAAG,CAAC,GACdlB,IAAA,CAACV,QAAQ;IACL6B,KAAK,EAAE;MAACC,IAAI,EAAE;IAAC,CAAE;IACjBH,IAAI,EAAEZ,OAAQ;IACdgB,YAAY,EAAE,SAAAA,aAAAC,IAAI;MAAA,OAAIA,IAAI,CAACN,EAAE;IAAA,CAAC;IAC9BO,UAAU,EAAE,SAAAA,WAAAC,IAAA;MAAA,IAAEF,IAAI,GAAAE,IAAA,CAAJF,IAAI;MAAA,OAAMtB,IAAA,CAACF,OAAO;QAAC2B,YAAY,EAAEH;MAAK,CAAC,CAAC;IAAA;EAAC,CAC1D,CAAC,GAEFtB,IAAA,CAACd,IAAI;IAAAwC,QAAA,EACD1B,IAAA,CAACb,IAAI;MAAAuC,QAAA,EAAC;IAAyB,CAAM;EAAC,CACpC,CACT;AAGT,CAAC;AAED,eAAezB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}